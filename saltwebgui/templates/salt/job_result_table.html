{% extends "salt/base.html" %}
{% import "salt/macros.jinja" as macros %}
{% block title %}Raw job output{% endblock %}

{% block customcss %}
<style type="text/css">
.table-cell {
    max-width: 20em;
    max-height: 8em;
    overflow: auto;
}
</style>
{% endblock %}

{% block view %}
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Table output of {{ jid }}</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                List of jobs.
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered table-hover scrollX" id="dataTables-example">

                     {{ macros.jobTable(head, body)|safe }}

                </table>
                <!-- /.table-responsive -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-6 -->
</div>
<!-- /.row -->

{% endblock %}

{% block customJS %}
<script>
$(document).ready(function() {
    $('#dataTables-example').DataTable({
        scrollX: true,
	scrollY: 300,
        columnDefs: [
            { "width": "50px", "targets": '_all' }
            ]
    });
});
</script>
{% endblock %}
